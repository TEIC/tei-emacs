
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <!--THIS FILE IS GENERATED FROM AN XML MASTER. 
   DO NOT EDIT-->
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   
      <title>Getting started with Emacs</title>
      <link rel="stylesheet" type="text/css" href="/Stylesheets/master.css">
      <meta name="DC.Title" content="Getting started with Emacs">
      <meta name="DC.Author" content="">
      <meta name="DC.Language" content="(SCHEME=iso639) en">
      <meta name="DC.Creator" content="Oxford University Computing Services, 13 Banbury Road, Oxford OX2 6NN, United Kingdom">
      <meta name="DC.Creator.Address" content="webmaster@oucs.ox.ac.uk">
   </head>
   <body><a name="TOP"></a><table class="header" width="100%">
         <tr>
            <td rowspan="3"><img src="/Pictures/master.gif" alt="" width="160"></td>
            <td align="left">
               <h2 class="institution">MASTER Project</h2>
            </td>
         </tr>
         <tr>
            <td align="left">
               <h1 class="maintitle">Getting started with Emacs</h1>
            </td>
         </tr>
      </table>
      <hr>
      <table class="leftlinks">
         <tr>
            <td width="15%" class="framemenu" valign="top"><a target="_top" class="frametoc" href="http://www.cta.dmu.ac.uk/projects/master/">Home</a><hr><a class="frametoc" href="#body.1_div.1">Basic operation: files and buffers</a><br>
               <a class="frametoc" href="#body.1_div.2">Writing and editing a new XML file</a><br>
               <a class="frametoc" href="#body.1_div.3">MultiLingual Emacs</a><br>
               <a class="frametoc" href="#body.1_div.4">Validation</a><br>
               <a class="frametoc" href="#body.1_div.5">Viewing the results</a><br>
               
            </td>
            <td valign="top">
               
               <hr>
               <table>
                  <tr>
                     <td><b>
                            Using EMACS to enter msDescriptions
                           </b></td>
                  </tr>
                  <tr>
                     <td><i>Lou Burnard</i></td>
                  </tr>
                  <tr>
                     <td>February 2001</td>
                  </tr>
               </table>
               <hr>
               
               
               Using Emacs to enter msDescriptions 
               
               
               <p><a name="d20e75"></a>GNU Emacs, in its SGML/XML mode, is a very attractive option for
                  those wishing to produce high quality XML-encoded documents on a
                  limited (or non-existant) budget. The software itself is genuinely
                  ubiquitous, very widely understood, documented in great detail, and
                  comes at a price that every academic project can afford
                  (i.e. zero). It may not be as flashy as some XML editors, but it can
                  still be configured to make entering valid XML text very simple. In this
                  exercise, we'll use a version that has been customised to simplify
                  data entry of manuscript descriptions according to the MASTER dtd. We
                  won't try to explain all about emacs as there are dozens of books and
                  web pages on the subject (a very good tutorial
                  specifically on the XML customization of emacs is included on the TEI CDrom), and emacs also comes
                  with its own built in help system and tutorial. 
               </p>
               
               
               <div class="teidiv">
                  <h2><a name="body.1_div.1"></a>Basic operation: files and buffers
                  </h2>
                  
                  
                  <p><a name="d20e82"></a>Start Emacs by clicking on the Emacs icon. On the first screen that
                     	    appears you will see the following mysterious suggestion:
                     	    <pre class="eg"> If you want to create a file, visit that file with
	    C-x C-f, then enter the text in that file's own
	    buffer.</pre></p>
                  
                  
                  <p>Let's first explain the notation: <strong>C-x C-f</strong> means 
                  </p>
                  <ul>
                     <li><a name="d20e94"></a>hold down the CTRL key
                     </li>
                     <li><a name="d20e97"></a>without releasing the CTRL key, hit the x key
                        	    once
                     </li>
                     <li><a name="d20e100"></a>release both keys and
                     </li>
                     <li><a name="d20e103"></a>hold
                        	    down the CTRL key (again)
                     </li>
                     <li><a name="d20e106"></a>without releasing
                        	    the CTRL key, hit the F key once
                     </li>
                     <li><a name="d20e109"></a>release both
                        	    keys
                     </li>
                  </ul>
                  <p> and it is an example of the kind of
                     	    keyboard sequence that longterm emacs users find
                     	    completely obvious and intuitive but which may needlessly
                     	    distress the unwary or the novice. We will use same
                     	    notation throught this tutorial <strong>C-x</strong> always means
                     	    &#8216;hold down the control key and press the x key
                     	    simultaneously&#8217;; <strong>x y</strong> always means &#8216;hit the x
                     	    key and then hit the y key&#8217;. As well as the CTRL key,
                     	    emacs uses the ESC key (in older dialects of emacs-speak
                     	    you'll find this referred to as the Meta key, and it is
                     	    occasionally represented as an M), but it does not use any
                     	    of the F1 to F12 function keys. If you get into a mess and want to start again, you
                     	    can bail out of almost any emacs command by typing
                     	    <strong>C-g</strong>.
                  </p> 
                  
                  
                  <p><a name="d20e129"></a>Emacs dates from pre-mouse days and one of its strengths is its
                     	    complete independence of any particular hardware
                     	    configuration. The price for that is it has its own way of
                     	    doing most things. This version of emacs uses most of the
                     	    usual windows keys in the same way as you'd expect: (for
                     	    example, the arrow keys, the PgUp, PgDn, Home and End keys
                     	    all move the cursor in the way you'd expect; the delete
                     	    key deletes the character before the cursor; the Ins key
                     	    toggles between insert and overstrike mode) but there are
                     	    keyboard equivalents for all of them. In the same way, for
                     	    the more specialized commands we will be using in the rest
                     	    of this tutorial, there will often be a keyboard sequence
                     	    as well as a series of menu options.  Often, once you've
                     	    learned the keyboard combination you'll find it quicker to
                     	    use than fiddling around with the mouse.
                     
                  </p>
                  
                  <p><a name="d20e132"></a>Let's begin by looking at an existing file. This can be done in the
                     	    usual Windows manner, by selecting <tt>Open File</tt> from the
                     	    <strong>Files</strong> menu, or by typing <strong>C-x C-f</strong>. If you choose the first
                     	    method, the familiar Windows open file dialogue will
                     	    appear: navigate to the folder in which you wish to find
                     	    the new file (this will normally be called <strong>Work</strong>, but the
                     	    disk or folder containing it will vary with local
                     	    conditions). Choose the file you want to open and press
                     	    RETURN.
                  </p> 
                  
                  
                  <p><a name="d20e147"></a>If you choose the second method, the cursor
                     	    will disappear from the screen window and move to the
                     	    bottom of the screen into a tiny window which is called in
                     	    emacs-speak the <em>minibuffer</em>. This is a special
                     	    place used for a variety of purposes by emacs: the cursor
                     	    is going to stay here obstinately until you give emacs
                     	    something &#8212; in this case, a filename.  By default, emacs
                     	    will usually suggest a folder name as part of the
                     	    filename: you can use the arrow keys etc., to edit this
                     	    suggestion to match the correct name for your new
                     	    file. You can also use a powerful feature called
                     	    <em>command completion</em>: type the first letter of
                     	    the filename and press the TAB key. If what you typed was
                     	    unique (for example, if you typed a Z and there is only
                     	    one file in the current directory whose name begins with
                     	    Z), emacs will complete the name for you. If what you
                     	    typed was not unique (for example, if there are several
                     	    files with names beginning Z), emacs will beep. Pressing
                     	    the TAB key a second time will then open a new window
                     	    showing a list of all the names you might have meant. The
                     	    cursor will stay in the minibuffer (unless you move it
                     	    with the mouse), so you can type the next few characters,
                     	    and press TAB again to complete the filename, or narrow
                     	    down the choice. This is easier to do than it is to
                     	    describe!
                         
                  </p>
                  
                  
                  <p><a name="d20e156"></a>By whatever method, once you have selected a file, you can press
                          the RETURN key to open it. If the file you chose was an XML file,
                          emacs will now go into XML mode: note that the menu along the top
                          changes. Use the cursor keys to move around the file  in the
                          usual way. If you don't like the font used, you can change it by
                          selecting <tt>Set Font</tt> from the <tt>Mule</tt> submenu of the Options menu (but
                          remember that emacs looks fairly silly in a proportional font).
                         
                  </p>
                      
                  
                  <p><a name="d20e165"></a>When using emacs, it's important to distinguish between the terms
                         <em>file</em>, <em>buffer</em>, and <em>window</em>. A
                         file is a collection of data on disk: when you open a file, the
                         data in it is read from the disk and copied into an area of memory
                         managed by emacs which is called a buffer. Usually, emacs shows
                         you this area of memory in a window. With emacs you can move data
                         between buffers, and you can have multiple windows looking at
                         different buffers or the same one. Buffers can be opened and
                         closed independently, and you can write their contents back to the
                         same or different files. All of this flexibility gives emacs a lot
                         of power, but can be a little confusing to the novice. Feel free
                         therefore to skip the remainder of this section on the first pass
                         through!
                  </p>
                  
                      
                  <p><a name="d20e177"></a>With your file still being displayed, type <strong>C-x 2</strong>. The current
                         window splits into two, but since both windows are looking at the same buffer,
                         you will see the same data in both. If you scroll one window
                         (using the PgDn key for example), the other window does not
                         change. This makes it possible for you to see both ends of a file
                         at the same time. More interestingly, if you open another file, it
                         will load into a new buffer, which will be visible in only one of
                         the two windows currently available. Try opening a second file.
                  </p>
                  
                      
                  <p><a name="d20e183"></a>You can move the cursor from one buffer to another by the
                         command <strong>C-x o</strong> (for "other"), or by using the mouse. Move
                         the cursor from one of your windows to the other. Try copying some
                         text from one window to the other.  To copy text, selecting it
                         with the mouse is sufficient. To paste text, you can use the Edit
                         menu in the usual way, or use the keyboard shortcut <strong>C-y</strong>
                         (for yank). Note that the usual Windows convention of <strong>C-v</strong>
                         does not work: it means something different to emacs.
                  </p>
                  
                  
                  <p><a name="d20e195"></a>You can see a list of all currently open buffers in the Buffers
                         menu, and go straight to one by selecting it from the
                         list. Alternatively, the command <strong>C-x b</strong> allows you to
                         switch amongst buffers without moving from the current window. The
                         command <strong>C-x C-b</strong> opens a new window in which to show all
                         the buffers you have open (including itself!): the resulting
                         display tells you how big each buffer is, its name, what kind of
                         object it is, and whether it was read from a file. If there is an
                         asterisk at the beginning of the line, the contents of the buffer
                         have changed since it was read from the file, or created. 
                  </p>
                  
                      
                  <p><a name="d20e204"></a>To close all windows except the current one, type
                         <strong>C-1</strong>. To close a buffer, make it current (using <strong>C-x
                            b</strong>) and then type <strong>C-x k</strong> (for kill), or select <tt>Kill
                            Current Buffer</tt> from the Files menu. Emacs will warn you if you
                         try to close a buffer without first copying its contents back into
                         the file you read it from. To save the current buffer, after you
                         have made changes to it, simply type <strong>C-x s</strong> (for save). If
                         you want to write the current buffer to some other file, type
                         <strong>C-x w</strong> (for write) and supply a filename. These commands
                         are all also available on the Files menu.  
                  </p>
                  
                  <p><a name="d20e225"></a>To close emacs down, type <strong>C-x C-c</strong>, or select <tt>Exit emacs</tt>
                         from the Files menu. If you have made changes to a buffer but not
                         yet saved it to a file, the cursor will move to the minibuffer
                         again, and you will be asked whether or not you want to
                         save the file: enter Y to save the file, N to leave it unchanged,
                         Q to simply quit the program without making any more changes.
                  </p> 
                     
               </div>
               
               <div class="teidiv">
                  <h2><a name="body.1_div.2"></a>Writing and editing a new XML file
                  </h2>
                  
                  
                  <p><a name="d20e239"></a>To create a new file, you simply need to open a new buffer. The
                          easiest way of doing this is to proceed as if you were opening an
                          existing file &#8212; either by supplying its name to the Open
                          dialogue, or by using <strong>C-x C-f</strong>, as described before &#8212; 
                          and then supply the name of a file that does not yet exist. For
                          this part of the tutorial, please enter a memorable name for your
                          new file, and make sure that it ends with the characters
                          <tt>.xml</tt>. Then press RETURN. 
                  </p>
                  
                  
                  <p><a name="d20e248"></a>As before, a new window is opened to show the new buffer, with a
                     	    list of menu options appropriate for an XML file.
                  </p>
                  
                  
                  <div class="teidiv">
                     <h3><a name="master-emacs-div-d20e251"></a>Choosing the DTD
                     </h3>
                     
                     
                     <p><a name="d20e255"></a>From the
                        	    DTD menu (second from the right) select the second item, 
                        <tt>Insert  DTD</tt>. A sub menu appears, offering you a choice of
                        	    predefined DTDs. You can choose either <tt>(XML) Master</tt> or
                        	    <tt>(XML) Master msDescription</tt>. The former will allow you to
                        	    enter a complete TEI document, header and all, conforming
                        	    to the Master dtd, while the second will allow you to enter
                        	    just a msDescription. Choose the latter, for the moment.
                     </p>
                     
                     
                     
                     <p><a name="d20e267"></a>Because emacs already knows about this DTD, it can do a lot of
                        	    the work  for you, as you will now see. It begins by
                        	    inserting the following lines at the top of your buffer: 
                        <pre class="eg">&lt;?xml version="1.0"?&gt; 
&lt;?xml-stylesheet type="text/css" href="masterx.css"?&gt;
&lt;!DOCTYPE msDescription SYSTEM "c:/dtds/xml/master/masterx.dtd"&gt;
</pre>. These lines you will recognize, probably, as the
                        	    incantantions necessary to state that the document
                        	    following is an XML document which may be formatted using
                        	    the <strong>masterx.ccs</strong> stylesheet, and which
                        	    conforms to the master XML DTD. Move the cursor down to
                        	    follow the last of these lines. 
                     </p>
                         
                  </div>
                      
                  <div class="teidiv">
                     <h3><a name="master-emacs-div-d20e277"></a>Inserting the right tags
                     </h3>
                         
                     
                     
                     <p><a name="d20e282"></a>You could just start typing in XML at this point. But an easier way
                        is to go to the Markup Menu (fourth from the right) and choose
                        <tt>Insert Element</tt>. As you are at the start of your file,
                        only one element is legal: <tt>&lt;msDescription&gt;</tt>. Choose it, and see
                        what emacs does to help you. 
                     </p>
                     
                     
                     <p><a name="d20e291"></a>Again, you could now simply type in data and tags freely. But this version
                             of emacs can help you do so in an error free manner: with the
                             cursor at the start of the file (following the initial
                             <tt>&lt;msDescription&gt;</tt>), select Next Data Field from the Move
                             menu (or press C-c C-d). The cursor will move to the next point
                             at which you can start typing in data. Type in the name of a
                             Settlement and repeat in order to type in the name of a
                             Repository. You may like to experiment with other options on the
                             Move menu to see how you can move around within the XML structure.
                            
                     </p>
                     
                     
                     <p><a name="d20e297"></a>Now see how emacs uses the DTD information to prompt you with the
                        	    right tags, For example, put the cursor after the
                        	    <tt>&lt;/msIdentifier&gt;</tt> tag and choose <tt>Insert Element</tt>
                        	    from the Markup menu.  You should find that emacs will
                        	    offer you a choice of the top level elements in a
                        	    manuscript description, since any of them might appear
                        	    here. Choose <strong>msContents</strong> from the list. Put
                        	    the cursor after the start tag for <tt>&lt;msContents&gt;</tt> and
                        	    repeat the <tt>Insert Element</tt> command. You will find that
                        	    now you are offered a choice of only three elements &#8212; 
                        	    <tt>&lt;msItem&gt;</tt>, <tt>&lt;p&gt;</tt>, or
                        	    <tt>&lt;Summary&gt;</tt>. Moreover, as you can confirm by reading
                        	    the DTD, one or other of <tt>&lt;msItem&gt;</tt> and <tt>&lt;p&gt;</tt>
                        	    <em>must</em> be supplied, which is why emacs also
                        	    inserts a comment here to remind that you cannot have an
                        	    empty <tt>&lt;msContents&gt;</tt>. (Of course, if emacs could
                        	    decide for you whether you wanted to put a <tt>&lt;p&gt;</tt> or a
                        	    <tt>&lt;msItem&gt;</tt> in here, it would have done so)
                        
                     </p>
                     
                     <p><a name="d20e342"></a>Emacs doesn't require you to insert complete elements (both start
                        	    and end tags). You can also enter just a start tag, then
                        	    type some text, and then choose from the menu. You can type
                        	    <strong>C-c /</strong> to close the current element, or even just <strong>&lt;/</strong>. 
                            
                     </p>
                     
                     <p><a name="d20e351"></a>As long as your
                        	    document is valid, you can use the <tt>Tag Region</tt> command
                        	    on this menu to tag a previously selected stretch of
                        	    text. You can also use the key-sequence <strong>C-c RET</strong> to split
                        	    the current element, that is, to close the current
                        	    element, and start a new sibling element of the same
                        	    type. This is particularly useful when typing (for
                        	    example) a series of <tt>&lt;p&gt;</tt> elements.
                     </p>
                     
                     
                     <p><a name="d20e363"></a>Remember that if your document gets into a mess you can always undo
                        	    your last action by choosing <tt>Undo</tt> from the
                        	    Edit Menu, or by typing type <strong>C-_</strong> (three fingers needed!),
                        	    or by typing <strong>C-x u</strong>. If you get irretrievably confused, try
                        	    <strong>C-g</strong> to abandon the current editing commands. 
                     </p>
                         
                  </div>
                  
                  <div class="teidiv">
                     <h3><a name="master-emacs-div-d20e379"></a>Inserting attributes
                     </h3>
                     
                     <p><a name="d20e383"></a>When you need to insert an attribute value, you can type it in
                        directly, inside the tag, or you can let emacs put it in for you. For
                        example, put the cursor inside the <tt>&lt;msContents&gt;</tt> start-tag. You
                        can now edit the tag itself, for example by typing in the characters
                        &#8216;n="3"&#8217;. Or, more safely, you could choose <tt>Insert
                           Attribute</tt> from the Markup menu: select <strong>n</strong> from
                        the submenu, and you will then be able to enter a number for this
                              element
                        in the `minibuffer' at the bottom
                        of the screen. Press RET to add it to the document.
                     </p>
                     
                         
                  </div>
                  
                  <div class="teidiv">
                     <h3><a name="master-emacs-div-d20e402"></a>Manipulating XML elements
                     </h3>
                     
                     
                     <p>There is a further range of useful XML-specific facilities on the
                              Modify menu: for example
                        
                     </p>
                     <p>
                        <dl>
                           <dt><strong>Untag element (<strong>C-c -</strong>)</strong></dt>
                           <dd>remove the tags for the current
                              	element
                           </dd>
                           <dt><strong>Change element name (<strong>C-c =)</strong></strong></dt>
                           <dd>change the tags for the current
                              	element
                           </dd>
                           <dt><strong>Fill element (<strong>C-c C-q</strong>)</strong></dt>
                           <dd>fill and indent text content of the current
                              	element, removing redundant white space (you can control the
                              	amount of indentation using the <tt>File Options</tt> command on the
                              	SGML/XML menu).
                           </dd>
                           <dt><strong>Edit attributes (<strong>C-c C-a</strong></strong></dt>
                           <dd>edit the attributes of the current
                              	element
                           </dd>
                        </dl>
                     </p>
                     <p>
                        This gives some flavour of the range of XML specific editing features
                        in emacs. 
                     </p>
                     
                     
                     
                  </div>
                     
               </div>
               
               <div class="teidiv">
                  <h2><a name="body.1_div.3"></a>MultiLingual Emacs
                  </h2>
                  
                  <p><a name="d20e453"></a>This version of emacs includes a set of extensions known as Mule
                          (Multi-lingual emacs) intended for use in the production of
                        documents in multiple languages, or languages other than English. One thing that greatly
                      simplifies this inherently tricky task is the existence of Unicode,
                     a universal coding system (UCS) in which all the characters and
                      writing symbols of the majority of the world's writing systems have
                      their own unique representation.
                  </p>
                  
                  <p><a name="d20e456"></a>Emacs allows you to find out the UCS value for any character or symbol you can
                      describe. It also allows you to input such characters using special
                      keystroke combinations, or <em>input methods</em>. When you save a
                      file, emacs will determine what character encoding standard is
                      appropriate and convert the text as necessary. 
                  </p>
                   
                  <div class="teidiv">
                     <h3><a name="master-emacs-div-d20e462"></a>Input Methods
                     </h3>
                     
                     <p><a name="d20e466"></a>If you are the sort of person who remembers characters by their
                            number, you will be pleased to know that you can enter any Unicode
                            character by simply giving its numerical value after typing in the
                            emacs command M-x insert-ucs-character. For the rest of us,
                            however, a better method is to use one of the predefined
                            <em>input methods</em>.
                     </p>
                     
                     <p><a name="d20e472"></a>An input method is simply  a predefined collection of keyboard shortcuts
                        which map key sequences to particular characters. For example, the
                         keystrokes <tt>"a</tt> (double quote, followed by small roman a) might be
                            mapped to &auml; (small roman a with umlaut), the keystrokes "e to &euml;, etc. Such a collection
                         of mappings is called an <em>input method</em>, and this version
                         of emacs comes with a large number of them, covering most commonly
                         encountered languages, and quite a few oddities.
                     </p>
                     
                     <p><a name="d20e481"></a> To see the list of available input methods, type <strong>C-h I
                                  TAB</strong>; the message "Click mouse-w on a completion to select
                              it. In this buffer, type RET to selection the completion near
                              point" means that you can see more detail for any of the input
                              methods displayed either by moving the mouse focus to it and
                              right-clicking, or by scrolling the cursor down the list and
                              pressing the return key when it is on the one that interests
                              you. 
                     </p>
                     
                     <p><a name="d20e487"></a>For most European languages, either the latin-1-postfix or
                            latin-1-prefix methods is appropriate. For general purposes, 
                            the ucs and sgml methods are particularly useful. The former allows
                            you to enter any Unicode character by typing its hex value; the
                            latter allows you to enter any character by entering its name as
                            an SGML entity. 
                     </p>
                     
                     <p><a name="d20e490"></a>As a simple example, here are the keystrokes you would use to  enter some
                            common characters using each
                            of these methods:
                        
                        <div align="left">
                           <table>
                              
                              <tr>
                                 <td valign="top" colspan="1"></td>
                                 <td valign="top" colspan="1">&ccedil;</td>
                                 <td valign="top" colspan="1">&aacute;</td>
                                 <td valign="top" colspan="1">&euml;</td>
                                 <td valign="top" colspan="1">&thorn;</td>
                              </tr>
                              
                              <tr>
                                 <td valign="top" colspan="1">latin-1-prefix</td>
                                 <td valign="top" colspan="1">~c</td>
                                 <td valign="top" colspan="1">'a</td>
                                 <td valign="top" colspan="1">"e</td>
                                 <td valign="top" colspan="1">~t</td>
                              </tr>  
                              
                              <tr>
                                 <td valign="top" colspan="1">latin-1-postfix:</td>
                                 <td valign="top" colspan="1">c,</td>
                                 <td valign="top" colspan="1">a'</td>
                                 <td valign="top" colspan="1">e"</td>
                                 <td valign="top" colspan="1">t/</td>
                              </tr>
                              
                              <tr>
                                 <td valign="top" colspan="1">ucs</td>
                                 <td valign="top" colspan="1">u00e7</td>
                                 <td valign="top" colspan="1">u00e1</td>
                                 <td valign="top" colspan="1">u00eb</td>
                                 <td valign="top" colspan="1">u00fe</td>
                              </tr>
                              
                              <tr>
                                 <td valign="top" colspan="1">sgml:</td>
                                 <td valign="top" colspan="1">&amp;ccedil;</td>
                                 <td valign="top" colspan="1">&amp;aacute;</td>
                                 <td valign="top" colspan="1">&amp;euml;</td>
                                 <td valign="top" colspan="1">&amp;thorn;</td>
                              </tr>
                              
                           </table>
                        </div>
                           
                     </p>
                     
                     <p><a name="d20e555"></a>Only one input method can be active at a time in emacs, but you can
                         change it as often as you like while typing in a file: the input
                         method itself isn't saved in your file, only the result of applying
                         it, which will usually be a Unicode character encoded in UTF-8. To select a new input method type
                         <strong>C-x RET C-\</strong> and then enter the name of the input method required at
                         the minibuffer prompt. Use command completion if you're not sure of
                         its name and to save typing! The new method replaces the current one. Type
                         <strong>C-\</strong> to toggle the current input method. Type <strong>C-h I</strong>
                         and then enter the name of an input method in the minibuffer to see a
                         brief summary of the keystrokes it supports.
                     </p>
                     
                     <p><a name="d20e569"></a>All of these operations can also be selected from the Mule submenu
                         on the Options menu.
                        
                     </p>
                     
                  </div>
                     
               </div>
               
               <div class="teidiv">
                  <h2><a name="body.1_div.4"></a>Validation
                  </h2> 
                  
                  
                  <p><a name="d20e578"></a>The most important (but often the most annoying) part of an XML
                     system is the parser or validator. This is the part which checks that
                     your document is both well-formed and valid, and complains if it is
                     not. Most such systems will try their best to help you when they have
                     found errors, but you do need to understand what is underlying the
                     messages. They are meant to be helpful &#8212; don't take them
                     personally!
                  </p>
                  
                  
                  <p><a name="d20e581"></a>Your version of emacs uses an external validator called
                          <strong>nsgmls</strong> to check the syntax of the fuiles you
                          create. As you have probably noticed, emacs does not prevent you
                          from introducing tagging errors (though it does try to make this
                          a bit more difficult) so it's quite possible that your sample
                          file won't validate.
                  </p>
                  
                  
                  <p><a name="d20e587"></a>Select <tt>Validate</tt> from the SGML/XML menu, or type
                           <strong>C-c C-v</strong>. The command line used to validate the
                           currently open file will appear in the minibuffer at the bottom
                           of the screen. Press RETURN to execute it. If this (or any other
                           file) is open and unsaved, you will be asked whether or not to
                           save changes before validation begins. A new window opens up,
                           with your command line inside it.
                  </p>
                  
                  
                  <p><a name="d20e596"></a>If your file is valid, nothing further will appear in the new
                           window. If, as is perhaps more likely, your file has some
                           errors, a list of error messages will appear in it. Each message
                           will tell you whereabouts in the file the error was detected,
                           and what seems to be at fault. Usually the messages are fairly
                           self-explanatory: if you have spelled a tag name wrong, for
                           example, or if you have inserted a tag or an element in a place
                           where the DTD says it is not permitted.
                     
                  </p>
                  
                  <p><a name="d20e599"></a>You can use the <tt>Next trouble spot</tt> (<strong>C-c C-o</strong>)
                           command on the Move menu to
                           move through the document from error to error, fixing them as
                           you go. Check to see when you have fixed all the errors by
                           running <strong>C-c C-v</strong> again. Remember to save the document (<strong>C-x s</strong>)
                           before validating it again.
                     
                  </p>
                  
               </div>
               
               <div class="teidiv">
                  <h2><a name="body.1_div.5"></a>Viewing the results
                  </h2>
                  
                  <p><a name="d20e619"></a>Although emacs does not itself format your documents for display,
                     	  it can be used to help the process of doing so. You will
                     	  typically use one or both of two kinds of stylesheet to make
                     	  your document viewable: a <strong>css</strong> stylesheet will
                     	    specify the formatting characteristics (fonts, colours,
                     	    etc.) to be used for each XML element in your document. An
                     	  <strong>xslt</strong> stylesheet however specifies a complete
                     	  transformation of the XML document &#8212; into another,
                     	  differently structured, XML document, into an HTML document,
                     	  or into something else completely different. 
                  </p>
                  
                  <p><a name="d20e628"></a>We have provided in this package both CSS stylesheet and  XSLT
                     	  stylesheets. The former is called
                     	  <strong>masterx.css</strong>, and as you noticed at the
                     	  beginning of the exercise, it is inserted into the top of
                     	  your document by default. To see its effect, simply close
                     or minimize emacs, and then open
                     	  your valid XML document, using Opera or any other web
                     	  browser which is CSS aware. Alternatively, you can choose
                           <tt>Open this XML file in Web Browser</tt> from the SGML/XML menu.
                     
                  </p>
                  
                  <p>To use the XSL stylesheets, you need to run a separate XSLT
                     	  processor. You can do this is a number of different ways: 
                     
                  </p>
                  <ul>
                     <li><a name="d20e640"></a>by selecting Run XSLT or validator on this file from the
                        	  SGML/XML menu: this option will prompt you (in the
                        	  minibuffer) for the filenames to be used  for the output
                        	  file and the XSL input file. To try this option, type
                        	  <strong>masterx.xsl</strong> as the name of the stylesheet,
                        	  and whatever name you please for the output HTML file (don't
                        	  accept the default, unless you want to  overwrite the file we have
                        	  already placed there for you!):
                        	  this will create an ordinary HTML file  which you can then
                        	  view using the web-browser of your choice (just close emacs
                        	  and double click on the icon for the file you've created,
                        	  for example)
                        .
                     </li>
                     <li><a name="d20e646"></a>by selecting <tt>Apply XSLT, View in buffer</tt> or <tt>Apply XSL View
                           	  in Browser</tt> from the XSLT menu. These options both assume
                        	  that your input file contains an XML processing
                        	  instruction to specify which stylesheet to use: to try it
                        	  out, edit the line 
                        <pre class="eg">
&lt;?xml-stylesheet type="text/css" href="masterx.css"?&gt;
</pre>
                        at the beginning of your file so that it reads
                        <pre class="eg">
&lt;?xml-stylesheet type="text/xsl" href="masterx.xsl"?&gt;
</pre>: if you choose <tt>View in Buffer</tt>, you will see the HTML
                        	  version of your file in a new emacs buffer; if you choose
                        	  <tt>View in Browser</tt>, your default web browser will display the
                        	  file for you.
                     </li>
                  </ul>
                  <p>
                     
                  </p>
                  
                  <p><a name="d20e669"></a>You can, of course, edit either of the stylesheets we have supplied
                     	  you with to change the way your XML document is displayed in 
                     	  a variety of ways.  Emacs can
                     	  even generate the bare bones of a new XSLT stylesheet for you
                     	  (just create a new file and give it the extension
                     	  <tt>.xsl</tt> rather than <tt>.xml</tt>) ... but
                     	  that is another story.
                     
                  </p>
               </div>
               
            </td>
         </tr>
      </table>
      <hr>
      <div class="footer"><a class="plain" target="_top" href="http://www.tei-c.org.uk/Master/Reference/">MASTER Reference Manual</a>
         | <a class="plain" target="_top" href="http://www.cta.dmu.ac.uk/projects/master/">Project Home Page</a></div>
      <hr>
      <address> February 2001
          (revised January 8 2002)
          &nbsp; Lou Burnard.
          <br>
         <!--
Generated from master-emacs using an XSLT version 1 stylesheet
based on http://www.oucs.ox.ac.uk/stylesheets/teihtml.xsl
processed using SAXON 6.3 from Michael Kay on Wed Jan 09 23:14:54 GMT 2002--></address>
   </body>
</html>