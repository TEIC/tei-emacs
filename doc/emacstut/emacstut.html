<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>
First steps with PSGML and TEI
</title>
<link rel="stylesheet" type="text/css" href="pfiles/xml/xsl/tei/tei-oucs.css">
</head>
<body>
<table width="100%">
<tr>
<td rowspan="3"></td><td align="center">
<h1>First steps with PSGML and TEI</h1>
</td>
</tr>
<tr>
<td align="center">
<h3>Christian Wittern</h3>
<h3>Chung-Hwa Institute of Buddhist Studies</h3>
</td>
</tr>
<tr>
<td align="left">December 2000</td>
</tr>
</table>
<hr>
<h2>Contents</h2>
<ul>
<li>
<a class="toc" href="#index-div-N442">Introduction</a>
</li>
<li>
<a class="toc" href="#index-div-N468">Creating a TEI file from scratch</a>
</li>
<ul>
<li>
<a class="toc" href="#index-div-N482">Opening a file</a>
</li>
<li>
<a class="toc" href="#index-div-N710">Inserting a reference to the DTD</a>
</li>
<li>
<a class="toc" href="#index-div-N835">Inserting a skeleton of TEI markup</a>
</li>
<li>
<a class="toc" href="#index-div-N1031">Validating a SGML/XML file</a>
</li>
</ul>
<li>
<a class="toc" href="#index-div-N1132">Adding markup to existing files</a>
</li>
<ul>
<li>
<a class="toc" href="#index-div-N1150">Splitting an element</a>
</li>
<li>
<a class="toc" href="#index-div-N1198">Inserting start-tag and end-tag separately</a>
</li>
<li>
<a class="toc" href="#index-div-N1219">Moving through the document</a>
</li>
<li>
<a class="toc" href="#index-div-N1253">Hiding and Showing parts of the document</a>
</li>
</ul>
<li>
<a class="toc" href="#index-div-N1285">Other oddments</a>
</li>
<ul>
<li>
<a class="toc" href="#index-div-N1299">Getting help in Emacs (and PSGML)</a>
</li>
<li>
<a class="toc" href="#index-div-N1394">Commands and history lists</a>
</li>
</ul>
<li>
<a class="toc" href="#index-div-N1448">Publishing TEI</a>
</li>
<li>
<a class="toc" href="#index-div-N1605">Where to go from here</a>
</li>
<ul>
<li>
<a class="toc" href="#index-div-N1615">Books on Emacs</a>
</li>
<li>
<a class="toc" href="#index-div-N1661">Web resources</a>
</li>
</ul>
</ul>
      <h2>
<a name="index-div-N442"></a>Introduction</h2>

	<p>
<a name="N452"></a>It is assumed that you successfully installed Emacs and
	PSGML to the computer you are using and fired up Emacs. On this
	tutorials CD-ROM, you will find all that is needed to do
					this. For further instruction, please see the file
	<tt>README.HTM</tt> in the root-directory of the CD-ROM</p>
				<p>
<a name="N459"></a>This
	tutorial will guide you through the first steps with this
	powerful tool. Sit back and relax, while we make a
	test drive. You might then want to try it yourself and create
	your first TEI conforming document.</p>
	<p>
<a name="N463"></a>Emacs is a very powerful tool by itself and PSGML adds the
	functionality of a full-blown SGML/XML editor to that, with a lot of
	sophisticated features. However, since Emacs is working in many
	respects different from most Windows applications (Emacs already
	existed for 15 years when Windows made its first appearance),
	you will at times find it difficult to work with it. The first
	few hours or even days could be demanding and even after that,
	you will occasionally feel desperate. The aim of this tutorial
	is to help you with the first steps, so that you can start
	using Emacs and discover more of its workings while doing
	productive work with it.   I hope you will soon realize that
	the time and energy spend learning Emacs is one of the best
	investments you ever made.</p>

      <h2>
<a name="index-div-N468"></a>Creating a TEI file from scratch</h2>

	<p>
<a name="N478"></a>OK, lets start. If you are sitting in front of your
	computer, bring the input focus to the window representing
	Emacs (this is usually done by clicking with the mouse
	somewhere in the window). </p>
	<h3>
<a name="index-div-N482"></a>Opening a file</h3>

	<p>
<a name="N492"></a>You should see a screen similar to the one in Figure
						1.</p>
	<p>
<a name="N496"></a><a name="index-figure-N498"></a><img src="E-TUT01.GIF" >
							<p>
<a name="N503"></a>Figure 1</p>
</p>
	<p>
<a name="N508"></a>Now start your first file. In Emacs, opening a file is done
	  with the <tt>find-file</tt> command. This opens an
	  existing file or creates a new file, if a file with that
	  name did not exist before. To find a file, you could select
	  the command <tt>Open File...</tt> from the menu under
	  <tt>Files</tt> on top
	  of the screen. However, it is much faster to use the
	  keyboard, since you are using it anyway most of the time for
	  typing.  If you click on the <tt>Files</tt> menu item on
	  top of the window, you will see something similar to Figure
	  2.</p>
	  <p>
<a name="N524"></a><a name="index-figure-N526"></a><img src="E-TUT01A.GIF" >
							<p>
<a name="N531"></a>Figure 2</p>
</p>
	  <p>
<a name="N536"></a>The cryptic
	  characters behind the words <tt>Open File...</tt> (<tt>C-x
	  C-f</tt>) tell you about the keystrokes used to execute
	  this command. The meaning is as follows: <ul>
	    <li>
<a name="N549"></a>First hold down the control key on your keyboard
	  (this key is usually in the left corner of the keyboard and
	      labeled <tt>Ctrl</tt>) and press the <tt>X</tt>
	  key will still holding the control key.</li>
	    <li>
<a name="N559"></a>Release the keys. After a while, you should see
	  the characters C-x- appear in the bottom-line of the Emacs
	      window. (By the way, this bottom-line is called
	  `mini-buffer' and is Emacs way of
	  interacting with you. The letters C-x- appearing there
	  should tell you that Emacs recognized your keystrokes and is
	  waiting for more keystrokes to identify the command you want
	  to issue.</li>
	    <li>
<a name="N567"></a>Now press the control key again and, while still
	      holding down the control key, press the <tt>F</tt>
	  key.</li>
	    <li>
<a name="N574"></a>Since Emacs is using such combined keystrokes a lot,
	  there is a shortcut notation. A key combination like the one you
	      just used, is sometimes called a
	      `keychord' and is abbreviated as
	      <tt>C-x C-f</tt>. As you can see, the hyphen denotes
	  the key that needs to be pressed simultaneously, while the
	  space character in between tells you to release the keys
	  before pressing the next keys.</li>
	  </ul>
	</p>
	<p>
<a name="N587"></a>After this keystroke, the mini-buffer should have changed to
	  something similar to Figure 3: </p>
	<p>
<a name="N591"></a><a name="index-figure-N593"></a><img src="E-TUT02.GIF" >							<p>
<a name="N598"></a>Figure 3</p>
</p>
	<p>
<a name="N603"></a>The command is called <tt>find-file</tt> and Emacs
	  prompts you also with the words
  &lsquo;Find file:&rsquo;
. After
	  these words Emacs has already inserted the beginning of a
	  path which is the path to your home directory.</p>
	<p>
<a name="N615"></a>At this point, I would like to make another small detour to
	  explain what a home directory is to Emacs. Emacs expects you
	  to be a reasonably organized person, who puts her files into
	  one well defined place, instead of scattering it all over
	  the place as Windows itself is doing it. The place, where
	  the files should be, at least as Emacs understands it, is
						the <em>home directory</em>. While this is sometimes
	  defined by your
	  system administrator, on Windows you might have the freedom
	  to define you own home directory. If you do not define a
	  home directory, Emacs will use the root of drive C (C:\) as
	  the home directory. Since this is a bad idea, I told Emacs
	  to consider the directory <tt>c:\pfiles\home</tt> as your
	  home directory. In this tutorial, this is where we store the
	  files. To keep things even more organized, I created a
	  directory <tt>emacstut</tt> and we will use that directory.</p>
	<p>
<a name="N629"></a>Since Emacs is still waiting for you to find the file, we
	  will now point it to the file. Type the two letters
	  <tt>em</tt>. Your screen should now look somehow similar
	  to Figure 4.</p>
	  <p>
<a name="N636"></a><a name="index-figure-N638"></a><img src="E-TUT03.GIF" >
	      <p>
<a name="N643"></a>Figure 4</p>
	    </p>
	  <p>
<a name="N648"></a>Now go
	  ahead and press the <tt>tab</tt> key
	  (this key has sometimes printed one or two arrows on it and
	  is located in the upper left region of your keyboard, to the
	  left of the letter <tt>Q</tt>). You will see that Emacs
	  all of its own inserted the rest of the name of the
	  directory and appended a slash <tt>/</tt> character
	  to the end of it.  This is a nice feature of Emacs which
	  allows you to save a lot of typing. It is
	  called `completion' and is available with
	  a lot of commands.</p>
	<p>
<a name="N665"></a>Now complete the filename and type <tt>test.xml</tt> as
	  in Figure 5: </p>
	  <p>
<a name="N672"></a><a name="index-figure-N674"></a><img src="E-TUT04.GIF" >
	      <p>
<a name="N679"></a>Figure 5</p>
	    </p>
	<p>
<a name="N684"></a>After completing the filename, press the <tt>enter</tt>
	  or <tt>return</tt> key. For a moment you will see the
	  message <tt>(New
	  file)</tt> flashing in the mini-buffer, Emacs reminds you
	  that this is a new file and you are not opening an existing file.
	  This is useful, since most of the time, you will want to
	  open an existing file. Figure 6 shows the brand new file
	  sitting in an empty buffer (buffer is what in Emacs speak is
	  called the area where you edit your text).</p>
	  <p>
<a name="N697"></a><a name="index-figure-N699"></a><img src="E-TUT05.GIF" >
	      <p>
<a name="N704"></a>Figure 6</p>
	    </p>

	<h3>
<a name="index-div-N710"></a>Inserting a reference to the DTD</h3>

	  <p>
<a name="N720"></a>You now are ready to begin inserting markup into this
	  blank new buffer that you just created.</p>
	  <p>
<a name="N724"></a>If you look carefully, you will see that a number of new
	  items have been added to the menu bar: <tt>SGML</tt>,
	  <tt>Modify</tt>, <tt>Markup</tt>, <tt>View</tt>
	  and <tt>DTD</tt>. You might click on these items and
	  look what lies under them, but most commands don't make
	  sense in an empty file. </p>
	<p>
<a name="N743"></a>You might wonder, why Emacs inserted these menus.  It has
	  been configured to recognize the file extension
	  <tt>xml</tt> (that is, the trailing letters after the
	  last dot) as a xml file, which should be edited in xml mode.
	  Xml mode, however, is just a variant of SGML mode (which is
	  provided by PSGML, written by Lennart Staflin and James Clark), and for
	  that reason one of the menus is called SGML. You can see which
	  mode is the current active mode (along with a lot of other
	  information) from the line with black background and white
	  letters, which is located immediately above the
	  mini-buffer. This line, by the way, is aptly called the
	  `mode-line' because it indicates the mode.</p>
	<p>
<a name="N754"></a>If we want to use the TEI guidelines, we will have to use
	  the TEI DTD and need some way to tell Emacs about the
	  TEI. Here is how to do so: <ul>
	    <li>
<a name="N761"></a>From the <tt>DTD</tt> menu, select <tt>Insert
		DTD</tt> as in Figure 7.
		<p>
<a name="N770"></a><a name="index-figure-N772"></a><img src="E-TUT06.GIF" >
		    <p>
<a name="N777"></a>Figure 7</p>
		  </p>
</li>
	      <li>
<a name="N782"></a>There are a lot of DTDs to select from, the one we
	      will use is the first, labeled <tt>TEILite XML</tt>. </li>
	      <li>
<a name="N789"></a>After you clicked on that item, your screen should
	  look like Figure 8: <p>
<a name="N792"></a><a name="index-figure-N794"></a><img src="E-TUT07.GIF" >
		    <p>
<a name="N799"></a>Figure 8</p>
		  </p>
</li>
	    </ul>
	  </p>
	  <p>
<a name="N806"></a>The first line is the XML declaration, which is required by
						every XML file. The second part defines the encoding of the
	  document, which is to define, how characters are defined in this
						document. The encoding `utf-8', a
	  variety of Unicode, is the default for XML
	  documents, but it is a good habit to mention it explicitly.  The
	  Emacs on the CD-ROM is set up to support utf-8, but after opening
						a document you might have to press <tt>F3</tt> to
						activate utf-8 for the current buffer. The first part of
						the modeline informs you about the encoding of the current
						buffer, which is <tt>-B</tt> in Figure 8, which stands
						for the `Big5' encoding frequently used
						in Taiwan. This would be <tt>-u</tt> in the case of utf-8.</p>
		<p>
<a name="N827"></a>The next line is the
	    `DOCTYPE' line, which tells PSGML and
	    other XML processors which type of document you are
	    using. Since hopefully everything is set up correctly, we
	    don't need to worry about the details here. </p>
	<h3>
<a name="index-div-N835"></a>Inserting a skeleton of TEI markup</h3>

	  <p>
<a name="N845"></a>Now move the cursor down to the beginning of the third line
	    as in Figure 9 and click on the <tt>Markup</tt> menu:</p>
	  <p>
<a name="N852"></a><a name="index-figure-N854"></a><img src="E-TUT08.GIF" ><p>
<a name="N858"></a>Figure 9</p>
</p>
	  <p>
<a name="N862"></a>The item we want to use now is the first, <tt>Insert
	      Element</tt>. After issuing this command by clicking on
	    this item, the screen changes to look like Figure 10:</p>
	<p>
<a name="N869"></a><a name="index-figure-N871"></a><img src="E-TUT09.GIF" ><p>
<a name="N875"></a>Figure 10</p>
</p>
	<p>
<a name="N879"></a>This command is used to insert markup into the file. Since
	  PSGML has read the DTD, it knows what elements are permitted
	  at which location of the file and allows only the insertion
	  of permitted elements.  In this case, there is only one
	  element, <tt>&lt;TEI.2&gt;</tt> and we will insert it by
	  clicking on it. Figure 11 shows how the screen looks after
	  issuing this command:</p>
	<p>
<a name="N888"></a><a name="index-figure-N890"></a><img src="E-TUT10.GIF" ><p>
<a name="N894"></a>Figure 11</p>
</p>
	<p>
<a name="N898"></a>As you can see, PSGML inserted not only the
	  <tt>TEI.2</tt> element, but all nested elements that are
	  required.  This is a very handy feature, since you now
	  already have a skeleton, which is a good starting point to
	  edit the <tt>&lt;teiHeader&gt;</tt>.  Of course, PSGML can't add
	  content for you.  It does help you even here, however, by
	  locating the insertion point at the <tt>&lt;title&gt;</tt>
	  element, which is the first to which you will add
	    content.  Please type here the title of the document,

  &lsquo;This is a test of PSGML, XML and TEI&rsquo;
, or whatever you
	like to call this document as shown in Figure 12:</p>
	<p>
<a name="N920"></a><a name="index-figure-N922"></a><img src="E-TUT11.GIF" ><p>
<a name="N926"></a>Figure 12</p>
</p>
	  <p>
<a name="N930"></a>You will notice that the TEI markup elements
	are in red, while ordinary text is in black.  This is very
	useful to distinguish text and markup quickly. </p>
	  <p>
<a name="N934"></a>You might wonder about the text that appears in darker
	green at some places between the markup.  In the color scheme
	used here (which you can change to your hearts delight of
	course, but that is an advanced topic), darker green indicates
	SGML/XML comments.  Comments are notes you might insert into
	the file to remind you about something, but they don't show up
	in the output when the document is prepared for electronic or
	paper publishing.  PSGML uses these comments here to tell you
	about places where some markup is required, but there are
	different options.  In the comment, you find a list of markup
	that is valid at this point, so you can scan this list and
	decide which you want to insert at this location. This is
	intended to quickly fill out the gaps in this skeleton.  If you
	are done with it, you can get rid of the comments, since they
	might confuse you.  The shortcut key for deleting a whole line
	    in Emacs is <tt>C-k</tt>, pressing this two times gets
	rid of the whole line and the line-end character. </p>
	  <p>
<a name="N941"></a>Let us now fill in the missing parts of the
	TeiHeader. Figure 13 shows the file with the first comment
	deleted.  </p>
	<p>
<a name="N945"></a><a name="index-figure-N947"></a><img src="E-TUT12.GIF" ><p>
<a name="N951"></a>Figure 13</p>
</p>
	  <p>
<a name="N955"></a>We will now add a paragraph element here.  Instead of
	using the menu, we will use the keyboard, since this is much
	faster.  The keychord for inserting a new element is <tt>C-c
	C-e</tt>. Figure 14 shows the situation after this keychord
	has been pressed.</p>
	<p>
<a name="N962"></a><a name="index-figure-N964"></a><img src="E-TUT13.GIF" ><p>
<a name="N968"></a>Figure 14</p>
</p>
	  <p>
<a name="N972"></a>In the mini-buffer, you can see the prompt line, asking you
	for the element to insert.  You can now start to type the
	element name.  As in other situations in the mini-buffer,
	    completion is available with the <tt>tab</tt> key.
	    Type p and then press <tt>tab</tt> and you should see
	a situation similar to Figure 15:</p>
	<p>
<a name="N982"></a><a name="index-figure-N984"></a><img src="E-TUT14.GIF" ><p>
<a name="N988"></a>Figure 15</p>
</p>
	  <p>
<a name="N992"></a>As you can see, elements beginning with 'p' are listed
	here.  It should be noted that these are only elements valid
	    at this point, for example <tt>&lt;publicationStmt&gt;</tt> is not
	valid here, so it is not listed.  You can now continue to
	    type, or press enter and <tt>&lt;p&gt;</tt> will be inserted into the
	file. The result is shown in Figure 16:</p>
	<p>
<a name="N1006"></a><a name="index-figure-N1008"></a><img src="E-TUT15.GIF" ><p>
<a name="N1012"></a>Figure 16</p>
</p>
	  <p>
<a name="N1016"></a>As can be seen, the mini-buffer now displays the relevant
	context model, as it is defined in the DTD and the context
	within the file. At this point, the context model allows
	#PCDATA, which is SGML/XML speak for normal text.  Therefore,
	we are free to insert some text here, which has been done as
	is shown in Figure 17:</p>
	<p>
<a name="N1020"></a><a name="index-figure-N1022"></a><img src="E-TUT16.GIF" ><p>
<a name="N1026"></a>Figure 17</p>
</p>

	<h3>
<a name="index-div-N1031"></a>Validating a SGML/XML file</h3>

	  <p>
<a name="N1041"></a>Having started entering text into the file, at some point
	  we might wonder, whether the changed file is still valid in
	  respect to the DTD.  In SGML/XML this question is passed to
	  a parser, which is a program that looks at the DTD and the
	  file and reports whether the file confirms to the
	  specification in the DTD.  PSGML here is configured to use
	  the parser NSGMLS (SP) by James Clark.  In Figure 17, it can
	  be seen, how the parser is invoked from the menu with the
	    <tt>Validate</tt> command.  You can also see the
	    relevant keychord, which is <tt>C-c C-v</tt>.</p>
	<p>
<a name="N1051"></a><a name="index-figure-N1053"></a><img src="E-TUT17.GIF" ><p>
<a name="N1057"></a>Figure 18</p>
</p>
	  <p>
<a name="N1061"></a>Again, as shown in Figure 18, the mini-buffer acts as a
	  prompt line.  The command line to invoke the parser is already
	  filled in and can usually be accepted without change.  If
	  necessary, however you can edit the command line before
	  issuing it. After you hit enter, the parser will do its
	  work.  </p>
	<p>
<a name="N1065"></a><a name="index-figure-N1067"></a><img src="E-TUT18.GIF" ><p>
<a name="N1071"></a>Figure 19</p>
</p>
	  <p>
<a name="N1075"></a>Emacs/PSGML however, as shown in Figure 19, if configured
	  to do so, will
	  first check, if the file has been saved.  In this case we did
	  not save the file, so we are prompted whether we want to
	  save the file.  Of course we do.  If we don't save the file
	  here, the parser will read an old version of the file and
	  the report will not match the file in our buffer.  For that
	  reason, please do always save the file.  Of course, even
	  without being prompted like here, it is a good idea to
	    frequently save the file, which Emacs does after you press
	    <tt>C-x C-s</tt>. </p>
	<p>
<a name="N1082"></a><a name="index-figure-N1084"></a><img src="E-TUT19.GIF" ><p>
<a name="N1088"></a>Figure 20</p>
</p>
	  <p>
<a name="N1092"></a>Figure 20 shows the situation after the parser finished
	  its work.  The line beginning with 'NSGMLS' in blue is an
	  error the parser detected.  It first reports the exact
	  location, including filename, line number and number of
	  character on that line.  The capital E is a hint on the type
	  of problem, in this case 'E' points to an error.  Finally,
	  NSGMLS provides us with a short description of the problem.
	  In the situation shown here, the parser encountered the
	    end-tag for <tt>&lt;text&gt;</tt>, before the content as described
	  in the DTD was encountered, so it raises an error.  This
	    confirms what PSGML told us, namely there should be a
	    <tt>&lt;body&gt;</tt> or <tt>&lt;group&gt;</tt> element, before the end of
	    <tt>&lt;text&gt;</tt>.  Because NSGMLS encountered an error, its
	  return value indicates an error, which PSGMLS translates into
	  a 'abnormal' termination of the program.</p>
	<p>
<a name="N1116"></a><a name="index-figure-N1118"></a><img src="E-TUT20.GIF" ><p>
<a name="N1122"></a>Figure 21</p>
</p>
	  <p>
<a name="N1126"></a>In Figure 21, the problem has been corrected and some
	  text entered.  A validation at this point detects no further
	  problems, so PSGMLS only tells us that the SGML validation
	  finished.  We thus can be sure that the file is valid
	  against the DTD and can further process the file in any way
	  we might intend.</p>


      <h2>
<a name="index-div-N1132"></a>Adding markup to existing files</h2>

	<p>
<a name="N1142"></a>The best strategy for adding markup for existing files is
	to first create a skeleton with the header as we did in the previous chapter
	and then continue from there.  If you find you need to produce
	similar skeletons often, you might even consider to save one
	as a template, although, as you just saw, creating a TEI
	compliant file from scratch is just a matter of a few
	keystrokes with Emacs and PSGML.</p>
	<p>
<a name="N1146"></a>In this part, we will see how a few PSGML keyboard shortcuts come in
	handy when adding markup to an existing file. </p>
	<h3>
<a name="index-div-N1150"></a>Splitting an element</h3>

	  <p>
<a name="N1160"></a>One of the most convenient and powerful features of PSGML
	  is its ability to split an element.  This comes especially
	  handy, if you have already a text file and want to add
	  markup.  You could for example add a skeleton as suggested
	  above and then paste all the text of the existing text file
	    into a <tt>&lt;p&gt;</tt> element in a <tt>&lt;div&gt;</tt> element in the
	  body of the document.  To separate the individual paragraphs
	  and divisions of the document, you will then move the cursor
	    to an appropriate location and then issue the <tt>C-c
	  RET</tt> keychord.  This will split the current element at
	  the location of point.  If you pay attention to the
						mini-buffer, you will notice a message
  &lsquo;Repeat the command to
	  split the containing div element&rsquo;
.  This means, if you issue
						the command again, it will split the containing
						<tt>&lt;div&gt;</tt> element and place the new <tt>&lt;p&gt;</tt> element
						in the newly created <tt>&lt;div&gt;</tt> element.  Just try it
	  out and see how it works!</p>

	<h3>
<a name="index-div-N1198"></a>Inserting start-tag and end-tag separately</h3>

	  <p>
<a name="N1208"></a>After a while, you will gain more experience about which
	  elements are valid at which place in the
	  document. Especially when typing a document, you will
	  then find it more and more convenient to directly insert
	  elements in the document. There are two  commands
	  that allow you to insert start tags or end tags of an
	    element separately.  For start tags, use <tt>C-c
	  &lt;</tt>.  This will prompt you in the minibuffer for the
	    element and will only accept valid elements at that point
	  in the document, completion is also available as usually.
	  If you arrive at the point, where you want to close the
	    element, just press <tt>C-c /</tt>, which will
	  automatically insert the correct end-tag of the last open
	  element. Please try it out!</p>

	<h3>
<a name="index-div-N1219"></a>Moving through the document</h3>

	  <p>
<a name="N1229"></a>A number of convenient commands for moving through the document
	    are to be found in the <tt>Move</tt> sub menu on the
	  menu bar.  All of these commands are available as keychords and
	  provide a very fast and convenient way to move through the document.</p>
	  <p>
<a name="N1236"></a><a name="index-figure-N1238"></a><img src="E-TUT25.GIF">
	      <p>
<a name="N1242"></a>Figure 22</p>

	  </p>
	  <p>
<a name="N1248"></a>Figure 22 shows the menu opened. Please play with these
	    different keychords and try to understand the way they
	    work.  This will make your work with Emacs and PSGML much
	    more efficient.</p>

	<h3>
<a name="index-div-N1253"></a>Hiding and Showing parts of the document</h3>

	  <p>
<a name="N1263"></a>Another convenient feature of PSGML is that it allows you
	  to hide and show parts of the document, based on its
	  markup. This is especially handy when working with large
	  documents, where you might want to look only at a part of
	  the document. There are different commands, most of them
	  available from the view menu in the menubar.  Figure 23
	  shows what you can get at that menu:</p>
	  <p>
<a name="N1267"></a><a name="index-figure-N1269"></a><img src="E-TUT26.GIF">
	      <p>
<a name="N1273"></a>Figure 23</p>

	  </p>
	  <p>
<a name="N1279"></a>You might want to use a larger document to try these
	  commands and make yourself familiar how they work. </p>


      <h2>
<a name="index-div-N1285"></a>Other oddments</h2>

	<p>
<a name="N1295"></a>Emacs and PSGML are by far too complex and rich in
	functionality to be covered by a short tutorial of just a few
	hours. There are however a few tricks that are so important
	and handy, they need to be mentioned here.</p>
      <h3>
<a name="index-div-N1299"></a>Getting help in Emacs (and PSGML)</h3>

	<p>
<a name="N1309"></a>Emacs is with some justification called the

  &lsquo;self-documenting editor&rsquo;
. It has not only an extensive
	help system on all of its internal functions, definitions and
	variables, which you can peruse down to the level of the
	programs source code if you wish so.  There is also an online
	tutorial, which will guide you through your first hours with
	Emacs (although it seems a little dated now) and in most cases
	its just easier to start using it and use the help facilities
	here to look for more information.  In the first months with
	Emacs, a good reference card of keychords is invaluable and
	should never be far from the keyboard.</p>
	<p>
<a name="N1318"></a>All help facilities in Emacs are accessible from
	  <tt>C-h</tt>. Here are some of the more important
	ones:<ul>
	    <li>
<a name="N1328"></a><tt>C-h i</tt> Enter the info system, Emacs build
	in hypertext manual. There are separate entries for a number
	of major modes and extensions, PSGML has its own info manual,
	which is accessible from here.</li>
	    <li>
<a name="N1334"></a><tt>C-h a</tt> <tt>apropos
	command</tt>. This function lets you look for a function by
	looking for part of its name. Since most Emacs functions have
	mnemonic names chances are good that you will find what you
	      are looking for.  Try <tt>C-h a sgml</tt> to look
	for SGML related functions.</li>
	    <li>
<a name="N1346"></a><tt>C-h m</tt> <tt>describe mode</tt>. This
	function gives you a short overview of the functions in your
	current modes and how to access them.</li>
	    <li>
<a name="N1355"></a><tt>C-h b</tt> <tt>describe
	keybindings</tt>. Use this if you forgot which keys do
	what.  You will get a complete list of the keymap active at
	this moment, along with the names of the commands they
	invoke.  Since the names are rather verbose, it is usually
	easy to figure out what they are doing.</li>
	      <li>
<a name="N1364"></a><tt>C-h k </tt> <tt>describe key
	</tt>. With this function, you can find out, what
	function is run by the keystrokes you press after invoking
	this function.</li>
	      <li>
<a name="N1373"></a><tt>C-h w</tt> <tt>where-is</tt> Type a
	command, it prints the keystrokes that invoke that command.</li>
	      <li>
<a name="N1382"></a><tt>C-h h</tt> Display the hello file to see
	which languages your system can display within Emacs.</li>
	  </ul>
</p>
					<p>
<a name="N1389"></a>Emacs is extremely configurable, so one advantage of the
	online help facility to printed documentation is that it actually
	reflects the settings currently active in the system.  If you for
	example redefined or added some keychords, they will appear with
	their new meaning in the online information!</p>

      <h3>
<a name="index-div-N1394"></a>Commands and history lists</h3>

	<p>
<a name="N1404"></a>Emacs has hundreds of commands, but not all of them can be
	invoked with keychords.  How are they invoked then?  Good
	    question.  There is one function, invoked with the
	    keystrokes <tt>M-x</tt> (press the <tt>alt</tt> key
	    and hold it down while pressing <tt>X</tt>) that will
	take a command and execute it for you.</p>
	  <p>
<a name="N1417"></a>For many commands, the input you gave is saved for future
	use.  These commands are saved in a history list, which you
	    can scroll through with the commands
	<tt>M-p</tt> (previous) and <tt>M-n</tt> (next).  In the
	    <tt>find-file</tt> command for example (invoked with
	    <tt>C-x C-f</tt>, you will see the last file you
	opened, which makes it easy to open it again, or a file in the
	    same directory.  The same is also true , i.e. for the
	<tt>insert-markup</tt> command, even here you will find
	the elements you inserted before are available for reuse. </p>
	  <p>
<a name="N1436"></a>Occasionally, you issue a command and find that you did
	    not intend to do so.  An easy way out is <tt>C-g</tt>,
	    the <tt>quit</tt> command.</p>


      <h2>
<a name="index-div-N1448"></a>Publishing TEI</h2>

	<p>
<a name="N1458"></a>The main advantage of using markup like the TEI encoding is
	  its suitability for long-term archiving and publishing in a
	  variety of formats.</p>
	<p>
<a name="N1462"></a>While there is not time in this tutorial to go into the
	  details of <tt>DSSSL</tt> (a stylesheet format for SGML documents),
	  <tt>Jade</tt> (an Open Source DSSSL engine) and the
	  various ways of transforming SGML/XML to PDF, anybody
	  interested in this is encouraged to check out the detailed
	  `Howto'-file by Martin Hoenicka at <a href="http://ourworld.compuserve.com/homepages/hoenicka_markus/ntsgml.html">http://ourworld.compuserve.com/homepages/hoenicka_markus/ntsgml.html</a> (a
	  copy of this document has been placed on this tutorials CD-ROM).</p>
	<p>
<a name="N1484"></a>A completely different approach is using XSL
	  transformations to render XML files for publishing on the Web,
	  as slideshows or in print.  Sebastian Rahtz of Oxford
	  University's Humanities Computing Unit, has developed a
	  complex set of XSL stylesheets (available at <a href="http://users.ox.ac.uk/~rahtz/tei/">http://users.ox.ac.uk/~rahtz/tei/</a>), that can be used for this
	  purpose.  These stylesheets are highly modularized and
	  parametrized.  To help the baffled user getting started with
	  this variety of options, Sebastian created a form-based web
	  interface, that allows to interactively customize the
	  stylesheets, in a way, this is a colleague of the Pizza
	  Chef. You will find the form at <a href="http://quirk.oucs.ox.ac.uk/cgi-bin/tei/stylebear">http://quirk.oucs.ox.ac.uk/cgi-bin/tei/stylebear</a>.
	  A stylesheet named
  &lsquo;mytei.xsl&rsquo;
 is generated with this
	  form. This stylesheet is used to invoke the other stylesheet
	  machinery.  You can place it anywhere you want to have it, a
	  copy has been placed in your home-directory for this tutorial.</p>
	<p>
<a name="N1509"></a>To make the invocation of the XSL transformation even more
	  convenient, I added an entry to the DSSSL menu called
	  `TEI XSL'.  You can select this entry on
	  a XML TEILite document and use this to produce a HTML version
	  of the document suitable for publication on the web.</p>
	<p>
<a name="N1517"></a><a name="index-figure-N1519"></a><img src="E-TUT30.GIF">
	      <p>
<a name="N1523"></a>Figure 24</p>
	    </p>
	<p>
<a name="N1528"></a>Figure 24 shows the TEI XSL menu selected. Invoking the
	command will produce a command line to call the XSLT processor
	  <tt>XT</tt> with some convenient arguments.  It is here
	assumed that the customized XSLT file is in your home
	  directory and is called
  &lsquo;MYTEI.XSL&rsquo;
.</p>
	<p>
<a name="N1540"></a><a name="index-figure-N1542"></a><img src="E-TUT31.GIF">
	      <p>
<a name="N1546"></a>Figure 25</p>
	    </p>
	<p>
<a name="N1551"></a>Pressing enter in the situation in Figure 25 will actually
	call the program, but Emacs does not wait for it to finish.
	Instead, it displays a message in the minibuffer, as shown in
	Figure 26:</p>
	<p>
<a name="N1555"></a><a name="index-figure-N1557"></a><img src="E-TUT32.GIF">
	      <p>
<a name="N1561"></a>Figure 26</p>
	    </p>
	<p>
<a name="N1566"></a>The command <tt>M-x sgml-recenter-output-buffer</tt> is
	also available from the menubar, which might be more
	convenient.  The output of the call to XT is shown in the
	  buffer, that is brought to the front by selecting
	<tt>Recenter output buffer</tt> from the DSSSL menu.  The
	result of this command is shown in Figure 27:</p>
	<p>
<a name="N1576"></a><a name="index-figure-N1578"></a><img src="E-TUT33.GIF">
	      <p>
<a name="N1582"></a>Figure 27</p>

       </p>
	<p>
<a name="N1588"></a>As soon as you see the message
  &lsquo;Process TEI XSL
	finished&rsquo;
, you know that XT has done it's work.  Your
	document has now been transformed to HTML for browsing.  You
	  will find it in the file <tt>INDEX.HTML</tt>, located in
	the same directory as the XML file you are editing.  Give it a
	try!</p>
	<p>
<a name="N1600"></a>Sebastian has also versions that
	can be used for publishing the files as slides for a oral
	presentation or as PDF files for printed distributions.</p>

      <h2>
<a name="index-div-N1605"></a>Where to go from here</h2>

	<h3>
<a name="index-div-N1615"></a>Books on Emacs</h3>

	<p>
<a name="N1625"></a>There are not too many books available for Emacs,
	unfortunately.  On a positive note, one reason for this might
	be, that the online manual included with Emacs and available
	with <tt>C-h i</tt> is an excellent introduction and there
	is not much more necessary.</p>
	<p>
<a name="N1632"></a>But sometimes it is still nice to follow some advice on
	paper while looking at the computer screen.  A number of
	general Linux introductions continue a chapter on Emacs, so
	you might look for one of those, especially if you plan to use
	Linux as well.</p>
	<p>
<a name="N1636"></a>O'Reilly &amp; Associates has a book <em>Learning GNU
	Emacs</em> by Debra Cameron and Bill Rosenblatt, which is
	currently in its second edition.  The book is outdated and
	often not accurate, don't buy it.  You might however be
	interested in the little pocket reference booklet, which makes
	a good companion for Emacs adventures.</p>
	<p>
<a name="N1644"></a>Another book is <em>Teach yourself Emacs in 24
	hours</em> by Jesper Pedersen et.al, published by SAMS.
	Although apparently put together in a hurry and
	containing many typos, this book is well worth its money and
	the time reading it.  The web site for this book, somehow
	difficult to find (it is <a href="http://www.imada.sdu.dk/~blackie/">here</a>), contains
	some corrections and source code missing from the CD-ROM that
	comes with the book.</p>

	<h3>
<a name="index-div-N1661"></a>Web resources</h3>

	  <p>
<a name="N1671"></a>The main development site for PSGML is now at
						Sourceforge (<a href="http://sourceforge.net/projects/psgml">http://sourceforge.net/projects/psgml</a>).  There is also a mailing list for PSGML users.
	  You might want to subscribe to this mailing list and post
	  any questions you have with regard to using PSGML there.  </p>
	  <p>
<a name="N1683"></a>There is also a generic Website for NT Emacs, with a very
	    extensive FAQ, you can find it at <a href="http://www.tardis.ed.ac.uk/~skx/faq/faq.html">http://www.tardis.ed.ac.uk/~skx/faq/faq.html</a>.
	  The FAQ contains a pointer to a mailing list for NT Emacs
	  users, where you might want to post general question
	  regarding NT Emacs.  Of course you could also always go to
	    the Usenet at <a href="news://comp.emacs">comp.emacs</a> to get help with Emacs.</p>
	  <p>
<a name="N1703"></a>The book <em>SGML CD, A Complete SGML Toolkit</em>
	  (Prentice Hall, 1997, ISBN: 0-13-475740-8), by Bob DuCharme,
	  out of print for some
	while, contained an excellent chapter on using PSGML and Emacs.
	This chapter is now available on the Web at <a href="http://www.snee.com/bob/sgmlfree/">http://www.snee.com/bob/sgmlfree/</a>.  This is definitely worth downloading!  </p>
	<p>
<a name="N1719"></a>If you are running into trouble with your setup or want to
	install a complete publishing system built on SGML/XML
	freeware, you should look at <a href="http://ourworld.compuserve.com/homepages/hoenicka_markus/ntsgml.html">Martin Hoenicka's site</a> mentioned above, which
	  guides you through the whole setup process.</p>
	  <p>
<a name="N1731"></a>A good general place to look for information about
	    SGML/XML are the <em>XML Cover Pages</em> at <a href="http://www.oasis-open.org/cover">http://www.oasis-open.org/cover</a>,
	  which has news and up to date information conveniently
	  arranged into categories.  Of special interest is his
	  software page, which lists a number of good SGML/XML tools.</p>


    </body>
</html>
